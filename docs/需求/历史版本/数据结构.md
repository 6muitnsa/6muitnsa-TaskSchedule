# 任务数据结构

## 初步设计

- 任务基础信息
    - 任务ID（不可重复，不可空，自动生成）字面意思
    - 名称（可重复，可空）字面意思
    - 描述（可重复，可空）字面意思
    - 优先级（不可重复，不可空）详见下文 ## 优先级选择算法 部分
    - 任务tag（可重复，可空）

- 任务时间信息
    - 起止时间
        - 开始时间（可空，缺省值=任务创建时间）
        - 结束时间（可空）为空则为无限制任务/定次数任务，完成全部次数即为完成
    - 单次预计时间（可重复，可空，分钟，缺省值=60分钟）即完成 1 次任务所需的大致时间
    - 地点（可重复，可空）字面意思
    - 通勤时间（可重复，可空，缺省值）字面意思，手动设置/系统猜测（调度时计入任务时长）
        - 系统猜测：假设上一个1小时内完成的任务的地点为当前地点
            - 基础：缺省值 == (当前地点 != 任务地点 ? 30分钟 : 5分钟)
            - 进阶：“地点路由”，记录用户 **手动设定**  的两个不同地点之间的通勤时间
    - 休息时间（可空，缺省值=5分钟）“多次任务的某次任务”/“单次任务“前后留出的休息时间（调度时计入任务时常）

- 复杂任务支持(三维度)：
    1. 周期
        - （为空状态）与起止时间一致
        - （非空状态1）独立周期（比如，每3天、每1月、每5小时等“时间长度”）
        - （非空状态2）复合周期（比如，每周三和周四等“某时间长度内的多个时间点”）
    2. 完成次数（非空）
        - 一次（n = 1）
        - n次
        - 不定次（由系统计算 起止时间之间的有效周期 个数，用户无需人工计算或设定）
    3. 时间段
        - （非空状态）任务有具体的时间点或时间段（即不可调度调整的任务，比如课程或特定时间段的会议、报告等）
        - （为空状态）任务没有时间点或时间段要求（即可以调度调整的任务，比如只知道deadline的课堂作业或活动）

    - 复杂任务举例
        1. 课程型任务。从1月2日至5月2日的每周三下午1:30至3:30
            - 周期：每周三
            - 完成次数：不定次（实际可算，只是用户不输入）
            - 时间段：下午1:30至3:30
        2. 某个学分活动。4月15日中午12:00截止
            - 周期：空（起止时间，即需要在结束时间前完成）
            - 完成次数：1次
            - 时间段：空（无要求）